"use strict";var app=angular.module("myApp",["angular-google-analytics","ngRoute"]).config(["$locationProvider","AnalyticsProvider","$routeProvider",function(e,r,o){o.when("/",{templateUrl:"templates/search-result.html",controller:"SearchController",reloadOnSearch:!1}).when("/:company",{templateUrl:"templates/profile.html",controller:"ProfileController"}),e.html5Mode(!1),r.setAccount("UA-45365040-3"),r.useAnalytics(!0),r.ignoreFirstPageLoad(!0)}]).controller("AppController",["$scope","$location","$routeParams","Analytics","SearchTerm",function(e,r,o,t,n){n.text=r.search()&&r.search().search,e.searchTerm=n,e.$watch("searchTerm.text",function(e){e?r.search("search",e):r.search("search",void 0)}),e.goToSearchResult=function(){r.path("/")}}]);app.controller("ProfileController",["$scope","$http","$routeParams",function(e,r,o){r.get("companies.json").success(function(r){e.company=r.filter(function(e){return e.alias==o.company})[0]}).error(function(e){console.log(e)})}]),app.controller("SearchController",["$scope","$http","$filter","$routeParams","SearchTerm",function(e,r,o,t,n){e.companies=[],e.searchTerm=n,e.searchResult=[],e.$watch("searchTerm.text",function(r){e.updateQuery()}),e.updateQuery=function(){var r=e.find(e.companies,e.searchTerm.text);e.searchResult=o("limitTo")(r,20)},e.find=function(e,r){return _.filter(e,function(e){return e.name.toLowerCase().indexOf(r.toLowerCase())>-1})},r.get("companies.json").success(function(r){e.companies=r,e.updateQuery()}).error(function(e){console.log(e)})}]).factory("SearchTerm",[function(){var e;return{text:e}}]);